#!/usr/bin/env node

/**
 * Parse Commands
 */
const program = require('commander');
program
    .option('-c, --config-path <path>', 'Vusion config path')
    .option('-e, --entry-path <path>', 'Change default entry path')
    .parse(process.argv);

/**
 * Execute Task
 */
process.env.NODE_ENV = 'production';
const config = global.vusionConfig = require('../src/getVusionConfig')(program.configPath);

if (program.entryPath)
    config.webpack.entry = { bundle: program.entryPath };

require('../src/build')(require('../config/' + config.type));
