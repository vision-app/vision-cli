#!/usr/bin/env node

'use strict';

/**
 * Parse Commands
 */
const program = require('commander');
program
    .usage('[options]')
    .parse(process.argv);

process.env.NODE_ENV = 'development';
global.visionConfig = {};

const fs = require('fs');
const path = require('path');
const port = process.env.PORT || 7000; // config.dev.port;

const visionConfigPath = path.join(process.cwd(), 'vision.config.js');
if (fs.existsSync(visionConfigPath))
    global.visionConfig = require(visionConfigPath);

const dev = require('../src/dev');
dev(require('../config/vision'), port);
